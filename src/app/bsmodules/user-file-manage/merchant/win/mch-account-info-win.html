<form nz-form [formGroup]="modelGroup" (ngSubmit)="onSubmit()" class="padding-form">
    <div nz-row [nzGutter]="50" [nzType]="'flex'" [nzJustify]="'space-between'">
        <div nz-col [nzSpan]="12">
            <div nz-form-item nz-row>
                <div nz-form-label nz-col  [nzSpan]="6">
                    <label for="name" nz-form-item-required>{{'Mch.detailPage.detail.accountTable.name'|translate}}</label>
                </div>
                <div nz-form-control nz-col [nzSpan]="18" nzHasFeedback>
                    <nz-input [(ngModel)]="model.name" name="name"      formControlName="name"
                              [nzSize]="'large'" nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}" nzId="name"></nz-input>
                    <div nz-form-explain *ngIf="getFormControl('name').dirty&&getFormControl('name').hasError('required')">{{'default.validationMessages.emptyErr'|translate}}</div>
                </div>
            </div>
        </div>
        <div nz-col [nzSpan]="12" >
            <div nz-form-item nz-row>
                <div nz-form-label nz-col  [nzSpan]="6"><label for="type" nz-form-item-required>{{'Mch.detailPage.detail.accountTable.type'|translate}}</label></div>
                <div nz-form-control nz-col [nzSpan]="18" nzHasFeedback>
                    <nz-select nzId="type" name="type" [(ngModel)]="model.type" formControlName="type" [nzSize]="'large'"
                               nzPlaceHolder="{{'default.hint.pleaseChoose'|translate}}">
                        <nz-option
                            *ngFor="let type of type"
                            [nzLabel]="type.name"
                            [nzValue]="type.id">
                        </nz-option>
                    </nz-select>
                    <div nz-form-explain *ngIf="getFormControl('type').dirty&&getFormControl('type').hasError('required')">{{'default.validationMessages.emptyErr'|translate}}</div>
                </div>
            </div>
        </div>
        <div nz-col [nzSpan]="12">
            <div nz-form-item nz-row>
                <div nz-form-label nz-col  [nzSpan]="6">
                    <label for="bankCardno" nz-form-item-required>{{'Mch.detailPage.detail.accountTable.bankCardno'|translate}}</label>
                </div>
                <div nz-form-control nz-col [nzSpan]="18" nzHasFeedback>
                    <nz-input [(ngModel)]="model.bankCardno" name="bankCardno"      formControlName="bankCardno"
                              [nzSize]="'large'" nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}" nzId="bankCardno"></nz-input>
                    <div nz-form-explain *ngIf="modelGroup.controls.bankCardno.dirty&&modelGroup.controls.bankCardno.hasError('required')">{{'default.validationMessages.emptyErr'|translate}}</div>
                    <div nz-form-explain *ngIf="modelGroup.controls.bankCardno.dirty&&modelGroup.controls.bankCardno.value&&modelGroup.controls.bankCardno.hasError('numberError')">{{'default.validationMessages.numberErr'|translate}}</div>
                </div>
            </div>
        </div>
        <div nz-col [nzSpan]="12">
            <div nz-form-item nz-row>
                <div nz-form-label nz-col  [nzSpan]="6">
                    <label for="bankName" nz-form-item-required>{{'Mch.detailPage.detail.accountTable.bankName'|translate}}</label>
                </div>
                <div nz-form-control nz-col [nzSpan]="18" nzHasFeedback>
                    <nz-input [(ngModel)]="model.bankName" name="bankName"      formControlName="bankName"
                              [nzSize]="'large'" nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}" nzId="bankName"></nz-input>
                    <div nz-form-explain *ngIf="getFormControl('bankName').dirty&&getFormControl('bankName').hasError('required')">{{'default.validationMessages.emptyErr'|translate}}</div>

                </div>
            </div>
        </div>
        <div nz-col [nzSpan]="12">
            <div nz-form-item nz-row>
                <div nz-form-label nz-col  [nzSpan]="6">
                        <label for="subbranchName" *ngIf="onChangeControl('type')" nz-form-item-required>{{'Mch.detailPage.detail.accountTable.subbranchName'|translate}}</label>
                        <label for="subbranchName" *ngIf="!onChangeControl('type')">{{'Mch.detailPage.detail.accountTable.subbranchName'|translate}}</label>
                </div>
                <div nz-form-control nz-col [nzSpan]="18" nzHasFeedback>
                    <search-input [(ngModel)]="model.subbranchName"
                                  formControlName="subbranchName"
                                  [name]="'subbranchName'" [nzSize]="'large'"
                                  nzPlaceHolder="{{'default.hint.pleaseChoose'|translate}}" nzId="subbranchName"
                                  [tableCfg]="subBankCfg"
                                  (nzSelect)="onSelect($event)"
                                  [displayField]="'subBankName'"
                                  [valueField]="'subBankName'"
                    ></search-input>
                    <div nz-form-explain *ngIf="onChangeControl('type')" style="color:red;">
                        {{'Mch.step.accountInfo.tips.type'|translate}}
                    </div>
                </div>
            </div>
        </div>
        <div nz-col [nzSpan]="12">
            <div nz-form-item nz-row>
                <div nz-form-label nz-col  [nzSpan]="6">
                    <label for="subbanrchCode" *ngIf="onChangeControl('type')" nz-form-item-required>{{'Mch.detailPage.detail.accountTable.subbanrchCode'|translate}}</label>
                    <label for="subbanrchCode" *ngIf="!onChangeControl('type')">{{'Mch.detailPage.detail.accountTable.subbanrchCode'|translate}}</label>
                </div>
                <div nz-form-control nz-col [nzSpan]="18" nzHasFeedback>
                    <nz-input [(ngModel)]="model.subbanrchCode" name="subbanrchCode"      formControlName="subbanrchCode"
                              [nzSize]="'large'" nzPlaceHolder="{{'default.hint.pleaseInput'|translate}}" nzId="subbanrchCode"></nz-input>
                    <div nz-form-explain *ngIf="getFormControl('subbanrchCode').dirty&&getFormControl('subbanrchCode').value&&getFormControl('subbanrchCode').hasError('numberError')">
                        {{'default.validationMessages.numberErr'|translate}}
                    </div>
                    <div nz-form-explain *ngIf="onChangeControl('type')" style="color:red;">
                        {{'Mch.step.accountInfo.tips.type'|translate}}
                    </div>
                </div>
            </div>
        </div>
        <div nz-col [nzSpan]="12" >
            <div nz-form-item nz-row>
                <div nz-form-label nz-col  [nzSpan]="6"><label for="transId" nz-form-item-required>{{'Mch.detailPage.detail.accountTable.transId'|translate}}</label></div>
                <div nz-form-control nz-col [nzSpan]="18" nzHasFeedback>
                    <nz-select nzId="transId" [nzSize]="'large'" name="transId" nzTags nzShowSearch [(ngModel)]="tmpTransIdArr" formControlName="transId" nzPlaceHolder="{{'default.hint.pleaseChoose'|translate}}">
                        <nz-option
                            *ngFor="let payType of payTypes"
                            [nzLabel]="payType.label"
                            [nzValue]="payType.value">
                        </nz-option>
                    </nz-select>
                    <div nz-form-explain *ngIf="getFormControl('transId').dirty&&getFormControl('transId').hasError('required')">{{'default.validationMessages.emptyErr'|translate}}</div>
                </div>
            </div>
        </div>
        <div nz-col [nzSpan]="12" >
            <div nz-form-item nz-row>
                <div nz-form-label nz-col  [nzSpan]="6"><label for="cardType" nz-form-item-required>{{'Mch.detailPage.detail.accountTable.cardType'|translate}}</label></div>
                <div nz-form-control nz-col [nzSpan]="18" nzHasFeedback>
                    <nz-select nzId="cardType" name="cardType" [(ngModel)]="model.cardType"
                               formControlName="cardType"  [nzSize]="'large'"
                               nzPlaceHolder="{{'default.hint.pleaseChoose'|translate}}">
                        <nz-option
                            *ngFor="let Type of cardType"
                            [nzLabel]="Type.name"
                            [nzValue]="Type.id">
                        </nz-option>
                    </nz-select>
                    <div nz-form-explain *ngIf="getFormControl('cardType').dirty&&getFormControl('cardType').hasError('required')">{{'default.validationMessages.emptyErr'|translate}}</div>
                </div>
            </div>
        </div>

    </div>
    <div  class="modal-footer">
        <button nz-button [nzSize]="'large'" [nzType]="'primary'" [nzLoading]="isLoadingOne" [disabled]="!(modelGroup.valid)">{{'default.btn.saveBtn'|translate}}</button>
    </div>
</form>

